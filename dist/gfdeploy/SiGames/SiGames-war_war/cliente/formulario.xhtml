<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:h="http://java.sun.com/jsf/html"
             xmlns:p="http://primefaces.org/ui"
             xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:form id="formCliente">
        <p:panel header="Cadastro de Clientes" id="painelCliente">
            <p:growl/>
            <h:inputHidden
                value="#{pessoaManagedBean.pessoa.idPessoa}"/>

            <h:inputHidden
                value="#{pessoaManagedBean.documento.idDocumento}"/>

            <h:inputHidden
                value="#{pessoaManagedBean.endereco.idEndereco}"/>

            <h:inputHidden
                value="#{pessoaManagedBean.telefone.idTelefone}"/>

            <h:panelGrid columns="4">

                Nome:
                <p:inputText
                    value="#{pessoaManagedBean.pessoa.nome}"/>

                Documento:
                <p:inputText
                    value="#{pessoaManagedBean.documento.documento}"/>

                Tipo Documento:
                <p:selectOneMenu
                    value="#{pessoaManagedBean.documento.tipoDocumento}"
                    converter="tipoDocumentoConverter">
                    <f:selectItems 
                        value="#{tiposManagedBean.listarTipoDocumento()}"
                        var="tipoDocumento"
                        itemLabel="#{tipoDocumento.descricao}"
                        itemValue="#{tipoDocumento}"/>
                </p:selectOneMenu>


                Telefone:
                <p:inputText
                    value="#{pessoaManagedBean.telefone.numero}"/>

                Tipo Telefone: 
                <p:selectOneMenu
                    value="#{pessoaManagedBean.telefone.tipoTelefone}"
                    converter="tipoTelefoneConverter">
                    <f:selectItems 
                        value="#{tiposManagedBean.listarTipoTelefone()}"
                        var="tipoTelefone"
                        itemLabel="#{tipoTelefone.descricao}"
                        itemValue="#{tipoTelefone}"/>
                </p:selectOneMenu>


                Logradouro:

                <p:inputText
                    value="#{pessoaManagedBean.endereco.logradouro}"/>

                Tipo Logradouro:

                <p:selectOneMenu
                    value="#{pessoaManagedBean.endereco.tipoLogradouro}"
                    converter="tipoLogradouroConverter">
                    <f:selectItems 
                        value="#{tiposManagedBean.listarTipoLogradouro()}"
                        var="tipoLogradouro"
                        itemLabel="#{tipoLogradouro.descricao}"
                        itemValue="#{tipoLogradouro}"/>
                </p:selectOneMenu>

                NÃºmero:

                <p:inputText
                    value="#{pessoaManagedBean.endereco.numero}"/>

                Bairro:

                <p:inputText
                    value="#{pessoaManagedBean.endereco.bairro}"/>

                Cidade: 

                <p:inputText
                    value="#{pessoaManagedBean.endereco.cidade}"/>

                Estado: 
                <p:selectOneMenu
                    value="#{pessoaManagedBean.endereco.uf}"
                    converter="uFConverter">
                    <f:selectItems 
                        value="#{tiposManagedBean.listarUF()}"
                        var="uf"
                        itemLabel="#{uf.estado}"
                        itemValue="#{uf}"/>
                </p:selectOneMenu>

                <p:commandButton 
                    value="Salvar" 
                    icon="ui-icon-disk" 
                    actionListener="#{pessoaManagedBean.salvarCliente()}"
                    update="painelCliente, :formTabela:painelTabela"/>
            </h:panelGrid>
        </p:panel>
    </h:form>



</ui:fragment>
